{"ast":null,"code":"var _jsxFileName = \"/home/local/o22203433/HyperboleVisualizer/hyperbole_visualiser/src/Components/donnees.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport '../CSS/donnees.css';\nimport { ref, onValue } from 'firebase/database'; // Import des fonctions Realtime Database\nimport db from '../FireBase/firebase'; // Import de l'instance Realtime Database\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction Donnees() {\n  _s();\n  const [data, setData] = useState([]);\n  const [position, setPosition] = useState({\n    x: '5%',\n    y: '70%'\n  }); // Position initiale\n  const [isDragging, setIsDragging] = useState(false);\n  const collectionName = sessionStorage.getItem('collectionName') || '/';\n\n  // Gestion des données Firebase\n  useEffect(() => {\n    const pointsRef = ref(db, collectionName);\n    const unsubscribe = onValue(pointsRef, snapshot => {\n      const fetchedData = [];\n      snapshot.forEach(childSnapshot => {\n        fetchedData.push({\n          id: childSnapshot.key,\n          ...childSnapshot.val()\n        });\n      });\n      setData(fetchedData);\n    }, error => {\n      console.error(\"Error fetching data: \", error);\n    });\n    return () => unsubscribe();\n  }, [collectionName]);\n\n  // Gestion des déplacements\n  const handleMouseDown = e => {\n    setIsDragging(true);\n  };\n  const handleMouseMove = e => {\n    if (isDragging) {\n      setPosition({\n        x: e.clientX - 300,\n        // Ajustez pour centrer l'objet\n        y: e.clientY - 100\n      });\n    }\n  };\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"donnees-container\",\n    style: {\n      position: 'absolute',\n      left: position.x,\n      top: position.y,\n      cursor: isDragging ? 'grabbing' : 'grab'\n    },\n    onMouseMove: handleMouseMove,\n    onMouseUp: handleMouseUp,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"donnees-box\",\n      onMouseDown: handleMouseDown,\n      children: /*#__PURE__*/_jsxDEV(\"ul\", {\n        className: \"donnees-list\",\n        children: data.map(item => /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [item.latitude, \" - \", item.longitude, \" - \", item.V]\n        }, item.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 56,\n    columnNumber: 5\n  }, this);\n}\n_s(Donnees, \"R4QiuGTCDki6xlEMcAzVxRYplKc=\");\n_c = Donnees;\nexport default Donnees;\nvar _c;\n$RefreshReg$(_c, \"Donnees\");","map":{"version":3,"names":["React","useState","useEffect","ref","onValue","db","jsxDEV","_jsxDEV","Donnees","_s","data","setData","position","setPosition","x","y","isDragging","setIsDragging","collectionName","sessionStorage","getItem","pointsRef","unsubscribe","snapshot","fetchedData","forEach","childSnapshot","push","id","key","val","error","console","handleMouseDown","e","handleMouseMove","clientX","clientY","handleMouseUp","className","style","left","top","cursor","onMouseMove","onMouseUp","children","onMouseDown","map","item","latitude","longitude","V","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/local/o22203433/HyperboleVisualizer/hyperbole_visualiser/src/Components/donnees.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport '../CSS/donnees.css';\nimport { ref, onValue } from 'firebase/database'; // Import des fonctions Realtime Database\nimport db from '../FireBase/firebase'; // Import de l'instance Realtime Database\n\nfunction Donnees() {\n  const [data, setData] = useState([]);\n  const [position, setPosition] = useState({ x: '5%', y: '70%' }); // Position initiale\n  const [isDragging, setIsDragging] = useState(false);\n  const collectionName = sessionStorage.getItem('collectionName') || '/';\n\n\n  // Gestion des données Firebase\n  useEffect(() => {\n    const pointsRef = ref(db, collectionName);\n\n    const unsubscribe = onValue(\n      pointsRef,\n      (snapshot) => {\n        const fetchedData = [];\n        snapshot.forEach((childSnapshot) => {\n          fetchedData.push({\n            id: childSnapshot.key,\n            ...childSnapshot.val(),\n          });\n        });\n        setData(fetchedData);\n      },\n      (error) => {\n        console.error(\"Error fetching data: \", error);\n      }\n    );\n\n    return () => unsubscribe();\n  }, [collectionName]);\n\n  // Gestion des déplacements\n  const handleMouseDown = (e) => {\n    setIsDragging(true);\n  };\n\n  const handleMouseMove = (e) => {\n    if (isDragging) {\n      setPosition({\n        x: e.clientX - 300, // Ajustez pour centrer l'objet\n        y: e.clientY - 100,\n      });\n    }\n  };\n\n  const handleMouseUp = () => {\n    setIsDragging(false);\n  };\n\n  return (\n    <div\n      className=\"donnees-container\"\n      style={{\n        position: 'absolute',\n        left: position.x,\n        top: position.y,\n        cursor: isDragging ? 'grabbing' : 'grab',\n      }}\n      onMouseMove={handleMouseMove}\n      onMouseUp={handleMouseUp}\n    >\n      <div\n        className=\"donnees-box\"\n        onMouseDown={handleMouseDown}\n      >\n        <ul className=\"donnees-list\">\n          {data.map((item) => (\n            <li key={item.id}>\n              {item.latitude} - {item.longitude} - {item.V}\n            </li>\n          ))}\n        </ul>\n      </div>\n    </div>\n  );\n}\n\nexport default Donnees;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}